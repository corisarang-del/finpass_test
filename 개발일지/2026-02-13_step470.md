# Step 470 개발일지

- 작성시각: 2026-02-13 19:17:27
- 해결하고자 한 문제:
  - Vercel 배포 중 `registry.npmjs.org` 요청에서 `ERR_INVALID_THIS` 경고가 다수 발생하는 불안정 설치 문제.

- 해결된 것:
  - `finpass-web/package.json`
    - `packageManager: pnpm@9.15.4` 추가
    - `engines.node: 20.x` 추가
  - `vercel.json`(루트)
    - installCommand를 `corepack + pnpm@9.15.4` 고정 설치 방식으로 변경
    - `--frozen-lockfile --prefer-offline` 적용
  - `finpass-web/vercel.json`
    - installCommand를 동일하게 `corepack + pnpm@9.15.4` 고정으로 변경
  - `finpass-web/.npmrc` 추가
    - registry 고정
    - fetch retry/timeout/network-concurrency 설정으로 네트워크 흔들림 완화

- 해결되지 않은 것:
  - 외부 네트워크 장애(일시 DNS/프록시/방화벽)는 완전 제거 불가.
  - 만약 동일 오류가 지속되면 Vercel Project의 Node 버전도 20으로 명시 확인 필요.
