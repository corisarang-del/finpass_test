# vive-md 전역 통합 개발일지

**작성 시각**: 2026-02-11 17:20

## 해결하고자 한 문제

vive-md 레포지토리를 전역 Claude 설정에 통합하여 어떤 프로젝트에서든 기술 스택별 개발 가이드와 워터폴 산출물 템플릿을 자동으로 사용할 수 있도록 설정.

## 해결된 것

1. **vive-md 전역 설치**
   - `~/.claude/vive-md/` 에 레포지토리 클론
   - 크로스커팅 가이드를 전역 rules에 복사
     - `~/.claude/rules/vive-security.md` (보안 가이드)
     - `~/.claude/rules/vive-design-system.md` (디자인시스템 가이드)

2. **자동 설정 스크립트 작성**
   - `~/.claude/scripts/vive-setup.sh` 생성
   - 프로젝트 타입 자동 감지 (React, Next.js, Vue, Spring Boot)
   - 적절한 가이드 자동 복사
   - 워터폴 템플릿 추가 옵션
   - 대화형/자동 모드 지원 (`--auto`, `--waterfall` 옵션)

3. **전역 명령어 설정**
   - `vive-setup` alias 추가 (`.bashrc`)
   - 어디서든 `vive-setup` 명령어로 프로젝트 설정 가능

4. **문서화**
   - 전역 CLAUDE.md에 vive-md 사용 가이드 추가
   - `~/.claude/vive-md/USAGE.md` 상세 사용 가이드 작성

5. **현재 프로젝트 적용**
   - finpass-web 프로젝트에 React 가이드 자동 추가
   - `.claude/rules/react-guide.md` 생성

## 안된 것

- 없음 (모든 목표 달성)

## 프로젝트 구조 변경

```
~/.claude/
├── vive-md/                    # [NEW] vive-md 레포지토리
│   ├── templates/
│   │   ├── react/
│   │   ├── nextjs/
│   │   ├── vue/
│   │   ├── spring-boot/
│   │   ├── security/
│   │   ├── design-system/
│   │   └── waterfall/
│   └── USAGE.md               # [NEW] 사용 가이드
├── scripts/                    # [NEW] 스크립트 디렉토리
│   └── vive-setup.sh          # [NEW] 자동 설정 스크립트
├── rules/
│   ├── vive-security.md       # [NEW] 전역 보안 가이드
│   ├── vive-design-system.md  # [NEW] 전역 디자인시스템 가이드
│   ├── coding-style.md        # [기존] 유지
│   ├── git-workflow.md        # [기존] 유지
│   ├── performance.md         # [기존] 유지
│   ├── security.md            # [기존] 유지
│   └── testing.md             # [기존] 유지
├── CLAUDE.md                   # [수정] vive-md 사용 가이드 추가
└── .bashrc                     # [수정] vive-setup alias 추가

finpass-web/
└── .claude/
    └── rules/
        └── react-guide.md     # [NEW] 프로젝트별 React 가이드
```

## 주요 기능

### 1. 프로젝트 타입 자동 감지

`vive-setup.sh` 스크립트가 다음을 감지:
- React: `package.json`에 "react" 의존성
- Next.js: `package.json`에 "next" 의존성
- Vue: `package.json`에 "vue" 의존성
- Spring Boot: `pom.xml` 또는 `build.gradle`에 "spring-boot"

### 2. 대화형/자동 모드

**대화형 모드** (기본):
```bash
vive-setup
# 감지된 타입 확인 후 워터폴 템플릿 추가 여부 선택
```

**자동 모드** (CI/CD용):
```bash
vive-setup --auto              # 감지된 타입만 적용
vive-setup --auto --waterfall  # 워터폴 템플릿도 자동 추가
```

### 3. 전역 가이드 자동 적용

모든 프로젝트에 자동으로 적용:
- 보안 가이드 (~2900줄)
- 디자인시스템 가이드 (~2500줄)

### 4. 프로젝트별 가이드 선택 적용

필요한 프로젝트에만 적용:
- React 가이드 (~3000줄)
- Next.js 가이드 (~2700줄)
- Vue3 가이드 (~3000줄)
- Spring Boot 가이드 (~3200줄)

## 사용 예시

### 새 React 프로젝트 시작

```bash
npx create-react-app my-app
cd my-app
vive-setup
# React 가이드 자동 추가됨
```

### 풀스택 프로젝트

```bash
mkdir my-fullstack
cd my-fullstack

# 백엔드
mkdir backend
cd backend
# Spring Boot 프로젝트 생성...
vive-setup
# Spring Boot 가이드 추가됨

# 프론트엔드
cd ..
mkdir frontend
cd frontend
# React 프로젝트 생성...
vive-setup
# React 가이드 추가됨
```

### 워터폴 산출물 작성

```bash
vive-setup --waterfall
# Claude Code에서:
# "docs/templates/01-요구사항분석/요구사항명세서-SRS.md 템플릿을 기반으로
#  우리 프로젝트의 요구사항명세서를 작성해줘"
```

## 효과

1. **보안 자동 강화**
   - 모든 프로젝트에 OWASP Top 10 적용
   - SQL 인젝션, XSS 자동 방지
   - 시크릿 관리 자동화

2. **일관된 코드 품질**
   - 기술 스택별 모범 사례 자동 적용
   - 디자인 시스템 일관성 유지
   - 성능 최적화 자동 적용

3. **생산성 향상**
   - 한 번의 명령어로 모든 가이드 적용
   - 워터폴 산출물 템플릿 즉시 사용
   - 프로젝트 간 일관성 유지

4. **유지보수 용이**
   - 전역 가이드 업데이트: `cd ~/.claude/vive-md && git pull`
   - 프로젝트별 가이드: `vive-setup` 재실행

## 향후 개선 사항

1. **더 많은 기술 스택 지원**
   - Angular, Svelte
   - Django, FastAPI
   - Go, Rust

2. **가이드 버전 관리**
   - 프로젝트별 가이드 버전 기록
   - 업데이트 알림

3. **커스텀 가이드 지원**
   - 회사/팀별 커스텀 가이드 추가
   - 가이드 병합 기능

## 참고 자료

- 원본 레포지토리: https://github.com/johunsang/vive-md
- 상세 사용 가이드: `~/.claude/vive-md/USAGE.md`
- 전역 설정: `~/.claude/CLAUDE.md`
