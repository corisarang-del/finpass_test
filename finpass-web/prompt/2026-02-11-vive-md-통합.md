# vive-md 전역 통합 프롬프트

**작성 시각**: 2026-02-11

## 사용자 요청

```
https://github.com/johunsang/vive-md 이거 보고 현재 설정을 더 업그레이드.
전역에 설치하고 어떤프로젝트든 실행되게 셋팅.
단 현재 설정은 절대 건드리지 말고 추가만 하는거야
```

## 단계별 프롬프트

### 1단계: 레포지토리 조사
- vive-md 레포지토리 구조 및 기능 확인
- README 전체 내용 파악
- 디렉토리 구조 및 각 파일의 역할 이해

### 2단계: 전역 설정 확인
- `~/.claude/` 디렉토리 구조 확인
- 기존 rules, memory, projects 구조 파악

### 3단계: vive-md 설치
- `~/.claude/vive-md/` 에 레포지토리 클론
- templates 디렉토리 구조 확인

### 4단계: 크로스커팅 가이드 통합
- 보안 가이드 → `~/.claude/rules/vive-security.md`
- 디자인시스템 가이드 → `~/.claude/rules/vive-design-system.md`
- 기존 규칙 파일과 충돌하지 않도록 `vive-` 접두사 사용

### 5단계: 자동 설정 스크립트 작성
- `~/.claude/scripts/vive-setup.sh` 생성
- 프로젝트 타입 자동 감지 로직
- 대화형/자동 모드 지원
- 워터폴 템플릿 추가 옵션

### 6단계: 전역 명령어 설정
- `.bashrc`에 `vive-setup` alias 추가
- 스크립트 실행 권한 부여

### 7단계: 문서화
- 전역 `CLAUDE.md`에 vive-md 사용 가이드 추가
- `~/.claude/vive-md/USAGE.md` 상세 가이드 작성

### 8단계: 현재 프로젝트 적용
- finpass-web 프로젝트에 `vive-setup` 실행
- React 가이드 자동 추가 확인

## 주요 결정 사항

1. **크로스커팅 가이드는 전역에, 기술 스택 가이드는 프로젝트별로**
   - 보안, 디자인시스템 → 모든 프로젝트에 적용
   - React, Next.js, Vue, Spring Boot → 필요한 프로젝트에만 적용

2. **기존 파일과 충돌 방지**
   - vive-md 가이드에 `vive-` 접두사 추가
   - 기존 rules 파일 유지

3. **자동화 우선**
   - 프로젝트 타입 자동 감지
   - 한 번의 명령어로 모든 설정 완료

4. **유연성 제공**
   - 대화형/자동 모드 선택 가능
   - 워터폴 템플릿 선택적 추가

## 구현된 기능

### 프로젝트 타입 감지
```bash
# package.json 기반
- "react" → React
- "next" → Next.js
- "vue" → Vue

# 빌드 파일 기반
- pom.xml / build.gradle + "spring-boot" → Spring Boot
```

### vive-setup 명령어
```bash
# 기본 (대화형)
vive-setup

# 자동 모드
vive-setup --auto

# 워터폴 포함
vive-setup --waterfall
vive-setup --auto --waterfall
```

### 가이드 적용 순서
1. 크로스커팅 가이드 (전역, 자동 적용)
2. 프로젝트 타입 감지
3. 기술 스택 가이드 복사
4. 워터폴 템플릿 추가 (선택)

## 테스트

### 현재 프로젝트 (finpass-web)
```bash
cd finpass-web
vive-setup
# ✓ React 감지
# ✓ react-guide.md 추가됨
# ✓ .claude/rules/ 에 파일 생성 확인
```

### 전역 설정 확인
```bash
ls ~/.claude/vive-md/              # ✓ 레포지토리 존재
ls ~/.claude/rules/vive-*.md       # ✓ 크로스커팅 가이드 존재
ls ~/.claude/scripts/vive-setup.sh # ✓ 스크립트 존재
which vive-setup                   # ✓ alias 작동
```

## Claude Code에서의 효과

### 보안 자동 적용
사용자: "로그인 기능을 추가해줘"
Claude: (자동으로 보안 가이드 참고)
- JWT 토큰 기반 인증
- 비밀번호 해싱 (bcrypt)
- CSRF 토큰 검증
- XSS 방지 (입력 검증)

### 성능 최적화 자동 적용
사용자: "사용자 목록 컴포넌트를 만들어줘"
Claude: (자동으로 React 가이드 참고)
- useMemo로 목록 메모이제이션
- useCallback으로 핸들러 최적화
- React.memo로 불필요한 리렌더링 방지
- 가상 스크롤링 (대용량 데이터)

### 워터폴 산출물 자동 생성
사용자: "요구사항명세서를 작성해줘"
Claude: (templates/01-요구사항분석/요구사항명세서-SRS.md 참고)
- 표준 양식에 맞춰 SRS 생성
- 기능 요구사항/비기능 요구사항 구분
- 유스케이스 다이어그램 포함
- 요구사항 추적 매트릭스 연동

## 향후 개선 아이디어

1. **프로젝트 프로파일**
   ```yaml
   # .claude/profile.yml
   project_type: react
   vive_guides:
     - react
     - design-system
   waterfall: false
   ```

2. **가이드 버전 관리**
   ```bash
   vive-setup --upgrade  # 최신 가이드로 업데이트
   vive-setup --rollback # 이전 버전으로 롤백
   ```

3. **커스텀 가이드**
   ```bash
   vive-setup --custom ~/.company/react-guide.md
   ```

4. **가이드 병합**
   - vive-md + 회사 가이드 + 팀 가이드 자동 병합

## 참고 링크

- vive-md 레포: https://github.com/johunsang/vive-md
- 설치 위치: ~/.claude/vive-md/
- 사용 가이드: ~/.claude/vive-md/USAGE.md
- 전역 설정: ~/.claude/CLAUDE.md
